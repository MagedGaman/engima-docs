---
title: "Quickstart"
description: "Run your first browser automation task in under 5 minutes"
---

## 1. Get Your API Key

1. Sign up at [enigma.click](https://enigma.click)
2. Go to **Settings â†’ API Keys**
3. Click **Create API Key** and copy it

```
enig_xxxxxxxxxxxxxxxxxxxxxxxxxxxx
```

---

## 2. Run Your First Task

The simplest way to start: one API call that creates a session, runs your task, and returns the result.

<CodeGroup>

```bash REST API
curl -X POST https://connect.enigma.click/start/run-task \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -d '{"taskDetails": "Go to google.com and search for Anthropic"}'
```

```javascript WebSocket
import { io } from "socket.io-client";

// 1. Create a session
const session = await fetch("https://connect.enigma.click/start/start-session", {
  method: "POST",
  headers: {
    "Content-Type": "application/json",
    "Authorization": "Bearer YOUR_API_KEY"
  },
  body: JSON.stringify({ taskDetails: "Go to google.com and search for Anthropic" })
}).then(r => r.json());

// 2. Connect and listen for events
const socket = io("https://connect.enigma.click", {
  auth: { sessionId: session.sessionId },
  transports: ["websocket"]
});

socket.on("message", (data) => {
  console.log(data.type, data);
  // "agent" â†’ live reasoning
  // "action" â†’ browser action taken
  // "task_completed" â†’ done
});
```

```javascript OpenAI-Compatible
import OpenAI from 'openai';

const client = new OpenAI({
  baseURL: 'https://connect.enigma.click/v1',
  apiKey: 'YOUR_API_KEY'
});

const completion = await client.chat.completions.create({
  model: 'enigma-browser-1',
  messages: [
    { role: 'user', content: 'Go to google.com and search for Anthropic' }
  ]
});

console.log(completion.choices[0].message.content);
```

```json MCP Server
// Add to your Claude Desktop config:
// macOS: ~/Library/Application Support/Claude/claude_desktop_config.json
// Windows: %APPDATA%\Claude\claude_desktop_config.json

{
  "mcpServers": {
    "enigma": {
      "url": "https://connect.enigma.click/mcp/sse?apiKey=YOUR_API_KEY"
    }
  }
}

// Restart Claude Desktop. You can now ask Claude to browse the web for you.
```

</CodeGroup>

**Response:**
```json
{
  "success": true,
  "sessionId": "a1b2c3d4e5f6",
  "taskId": "x9y8z7w6v5u4",
  "status": "complete",
  "result": {
    "type": "task_completed",
    "data": {
      "message": "Successfully searched for Anthropic on Google",
      "completion_time": 23.5,
      "prompt_tokens": 12450,
      "completion_tokens": 3200,
      "total_tokens": 15650
    },
    "usage": {
      "cost": 0.0124
    }
  }
}
```

---

## 3. Understanding Responses

Most browser tasks complete in 10-40 seconds. The API waits up to 50 seconds before responding, so typical requests return results immediatelyâ€”no polling required.

### Inline Result (Most Common)

When your task completes within 50 seconds, you get the result directly:

```json
{
  "success": true,
  "sessionId": "a1b2c3d4e5f6",
  "taskId": "x9y8z7w6v5u4",
  "status": "complete",
  "result": {
    "type": "task_completed",
    "data": {
      "message": "Successfully searched for Anthropic on Google",
      "completion_time": 23.5,
      "prompt_tokens": 12450,
      "completion_tokens": 3200,
      "total_tokens": 15650
    },
    "usage": {
      "cost": 0.0124
    }
  }
}
```

Read your result from `result.data.message`. Token usage and cost are included for transparency.

### Pending Result (Longer Tasks)

For complex tasks that take longer than 50 seconds, you'll receive a `pollUrl`:

```json
{
  "success": true,
  "sessionId": "a1b2c3d4e5f6",
  "taskId": "x9y8z7w6v5u4",
  "status": "pending",
  "pollUrl": "https://connect.enigma.click/task/a1b2c3d4e5f6/x9y8z7w6v5u4",
  "message": "Task still running. Poll GET /task/:sessionId/:taskId for result."
}
```

Poll the URL until the task completes:

```javascript
async function runTask(taskDetails, apiKey) {
  const response = await fetch("https://connect.enigma.click/start/run-task", {
    method: "POST",
    headers: {
      "Content-Type": "application/json",
      "Authorization": `Bearer ${apiKey}`
    },
    body: JSON.stringify({ taskDetails })
  });

  const data = await response.json();

  // Inline result - return immediately
  if (data.status === "complete") {
    return data.result;
  }

  // Pending - poll for result
  if (data.status === "pending") {
    return await pollForResult(data.sessionId, data.taskId, apiKey);
  }

  throw new Error(data.message || "Task failed");
}

async function pollForResult(sessionId, taskId, apiKey) {
  const maxAttempts = 60;

  for (let i = 0; i < maxAttempts; i++) {
    const res = await fetch(
      `https://connect.enigma.click/task/${sessionId}/${taskId}`,
      { headers: { "Authorization": `Bearer ${apiKey}` } }
    );

    const data = await res.json();

    if (data.type === "task_completed") return data;
    if (data.type === "guardrail_trigger") return data;
    if (!data.success && data.type === "failed") throw new Error(data.error);

    // Still running - wait and retry
    await new Promise(r => setTimeout(r, 2000));
  }

  throw new Error("Task timeout after 2 minutes");
}

// Usage
const result = await runTask("Search Google for Anthropic", "enig_xxx");
console.log(result.data.message);
console.log(`Cost: $${result.usage.cost}`);
```

<Tip>
Copy this `runTask` function as your starting point. It handles both response types and is production-ready.
</Tip>

---

## 4. What Just Happened?

1. Enigma spun up an isolated browser instance
2. An AI agent interpreted your task
3. The agent navigated to Google, typed the search query, and executed it
4. Results were returned with full token usage and cost breakdown

The session auto-terminated after completion (that's what `/run-task` does). For multi-step workflows where you want to keep the browser open, use `/start-session` instead.

---

## 5. Multi-Task Sessions

When you need to do multiple things in sequenceâ€”search, then click a result, then extract dataâ€”use a persistent session:

```javascript
const API_KEY = "YOUR_API_KEY";
const BASE = "https://connect.enigma.click";

// 1. Create session
const session = await fetch(`${BASE}/start/start-session`, {
  method: "POST",
  headers: {
    "Content-Type": "application/json",
    "Authorization": `Bearer ${API_KEY}`
  },
  body: JSON.stringify({
    taskDetails: "Go to amazon.com",
    startingUrl: "https://amazon.com"
  })
}).then(r => r.json());

const sessionId = session.sessionId;

// 2. Send follow-up task
const task = await fetch(`${BASE}/start/send-message`, {
  method: "POST",
  headers: {
    "Content-Type": "application/json",
    "Authorization": `Bearer ${API_KEY}`
  },
  body: JSON.stringify({
    sessionId,
    message: {
      actionType: "newTask",
      newState: "start",
      taskDetails: "Search for wireless keyboards"
    }
  })
}).then(r => r.json());

// 3. When done, terminate the session
await fetch(`${BASE}/start/send-message`, {
  method: "POST",
  headers: {
    "Content-Type": "application/json",
    "Authorization": `Bearer ${API_KEY}`
  },
  body: JSON.stringify({
    sessionId,
    message: { actionType: "state", newState: "terminate" }
  })
});
```

<Warning>
**ðŸ’° Cost Tip:** Set `terminateOnCompletion: true` on your last task to auto-close the session and avoid idle charges. Sessions remain billable until terminated or timed out.
</Warning>

---

## Next Steps

<CardGroup cols={2}>
  <Card title="Sessions & Tasks" icon="browser" href="/sessions">
    Multi-task workflows and session lifecycle
  </Card>
  <Card title="Controlling Sessions" icon="gamepad" href="/control">
    Pause, resume, manual takeover
  </Card>
  <Card title="Video Streaming" icon="video" href="/streaming">
    Watch sessions live via WebRTC
  </Card>
  <Card title="Errors & Troubleshooting" icon="triangle-exclamation" href="/errors">
    Error handling and debugging
  </Card>
</CardGroup>
