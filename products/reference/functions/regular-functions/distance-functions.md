---
description: 'Documentation for distance functions'
sidebarTitle: 'Distance'
slug: /sql-reference/functions/distance-functions
title: 'Distance functions'
keywords: ['distance functions', 'norms', 'distances', 'vectors']
doc_type: 'reference'
---

{/* <!-- 
The inner content of the tags below are replaced at doc framework build time with 
docs generated from system.functions. Please do not modify or remove the tags.
See: https://github.com/ClickHouse/clickhouse-docs/blob/main/contribute/autogenerated-documentation-from-source.md
--> */}

{/* <!--AUTOGENERATED_START--> */}
## L1Distance <Badge intent="info" className="version-badge">v21.11+</Badge> [#L1Distance]


Calculates the distance between two points (the elements of the vectors are the coordinates) in `L1` space (1-norm ([taxicab geometry](https://en.wikipedia.org/wiki/Taxicab_geometry) distance)).
    

**Syntax**

```sql
L1Distance(vector1, vector2)
```

**Aliases**: `distanceL1`

**Arguments**

- `vector1` — First vector. [`Tuple(T)`](/sql-reference/data-types/tuple) or [`Array(T)`](/sql-reference/data-types/array)
- `vector2` — Second vector. [`Tuple(T)`](/sql-reference/data-types/tuple) or [`Array(T)`](/sql-reference/data-types/array)


**Returned value**

Returns the 1-norm distance. [`UInt32`](/sql-reference/data-types/int-uint) or [`Float64`](/sql-reference/data-types/float)

**Examples**

**Basic usage**

```sql title=Query
SELECT L1Distance((1, 2), (2, 3))
```

```response title=Response
┌─L1Distance((1, 2), (2, 3))─┐
│                          2 │
└────────────────────────────┘
```



## L1Norm <Badge intent="info" className="version-badge">v21.11+</Badge> [#L1Norm]


Calculates the sum of absolute elements of a vector.
    

**Syntax**

```sql
L1Norm(vector)
```

**Aliases**: `normL1`

**Arguments**

- `vector` — Vector or tuple of numeric values. [`Array(T)`](/sql-reference/data-types/array) or [`Tuple(T)`](/sql-reference/data-types/tuple)


**Returned value**

Returns the L1-norm or [taxicab geometry](https://en.wikipedia.org/wiki/Taxicab_geometry) distance. [`UInt*`](/sql-reference/data-types/int-uint) or [`Float*`](/sql-reference/data-types/float) or [`Decimal`](/sql-reference/data-types/decimal)

**Examples**

**Basic usage**

```sql title=Query
SELECT L1Norm((1, 2))
```

```response title=Response
┌─L1Norm((1, 2))─┐
│              3 │
└────────────────┘
```



## L1Normalize <Badge intent="info" className="version-badge">v21.11+</Badge> [#L1Normalize]


Calculates the unit vector of a given vector (the elements of the tuple are the coordinates) in `L1` space ([taxicab geometry](https://en.wikipedia.org/wiki/Taxicab_geometry)).
    

**Syntax**

```sql
L1Normalize(tuple)
```

**Aliases**: `normalizeL1`

**Arguments**

- `tuple` — A tuple of numeric values. [`Tuple(T)`](/sql-reference/data-types/tuple)


**Returned value**

Returns the unit vector. [`Tuple(Float64)`](/sql-reference/data-types/tuple)

**Examples**

**Basic usage**

```sql title=Query
SELECT L1Normalize((1, 2))
```

```response title=Response
┌─L1Normalize((1, 2))─────────────────────┐
│ (0.3333333333333333,0.6666666666666666) │
└─────────────────────────────────────────┘
```



## L2Distance <Badge intent="info" className="version-badge">v21.11+</Badge> [#L2Distance]


Calculates the distance between two points (the elements of the vectors are the coordinates) in Euclidean space ([Euclidean distance](https://en.wikipedia.org/wiki/Euclidean_distance)).
    

**Syntax**

```sql
L2Distance(vector1, vector2)
```

**Aliases**: `distanceL2`

**Arguments**

- `vector1` — First vector. [`Tuple(T)`](/sql-reference/data-types/tuple) or [`Array(T)`](/sql-reference/data-types/array)
- `vector2` — Second vector. [`Tuple(T)`](/sql-reference/data-types/tuple) or [`Array(T)`](/sql-reference/data-types/array)


**Returned value**

Returns the 2-norm distance. [`Float64`](/sql-reference/data-types/float)

**Examples**

**Basic usage**

```sql title=Query
SELECT L2Distance((1, 2), (2, 3))
```

```response title=Response
┌─L2Distance((1, 2), (2, 3))─┐
│         1.4142135623730951 │
└────────────────────────────┘
```



## L2DistanceTransposed <Badge intent="info" className="version-badge">v25.10+</Badge> [#L2DistanceTransposed]


Calculates the approximate distance between two points (the values of the vectors are the coordinates) in Euclidean space ([Euclidean distance](https://en.wikipedia.org/wiki/Euclidean_distance)).    

**Syntax**

```sql
L2DistanceTransposed(vector1, vector2, p)
```

**Aliases**: `distanceL2Transposed`

**Arguments**

- `vectors` — Vectors. [`QBit(T, UInt64)`](/sql-reference/data-types/qbit)
- `reference` — Reference vector. [`Array(T)`](/sql-reference/data-types/array)
- `p` — Number of bits from each vector element to use in the distance calculation (1 to element bit-width). The quantization level controls the precision-speed trade-off. Using fewer bits results in faster I/O and calculations with reduced accuracy, while using more bits increases accuracy at the cost of performance. [`UInt`](/sql-reference/data-types/int-uint)


**Returned value**

Returns the approximate 2-norm distance. [`Float64`](/sql-reference/data-types/float)

**Examples**

**Basic usage**

```sql title=Query
CREATE TABLE qbit (id UInt32, vec QBit(Float64, 2)) ENGINE = Memory;
INSERT INTO qbit VALUES (1, [0, 1]);
SELECT L2DistanceTransposed(vec, array(1.0, 2.0), 16) FROM qbit;"
```

```response title=Response
┌─L2DistanceTransposed([0, 1], [1.0, 2.0], 16)─┐
│                           1.4142135623730951 │
└──────────────────────────────────────────────┘
```



## L2Norm <Badge intent="info" className="version-badge">v21.11+</Badge> [#L2Norm]


Calculates the square root of the sum of the squares of the vector elements.
    

**Syntax**

```sql
L2Norm(vector)
```

**Aliases**: `normL2`

**Arguments**

- `vector` — Vector or tuple of numeric values. [`Tuple(T)`](/sql-reference/data-types/tuple) or [`Array(T)`](/sql-reference/data-types/array)


**Returned value**

Returns the L2-norm or [Euclidean distance](https://en.wikipedia.org/wiki/Euclidean_distance). [`UInt*`](/sql-reference/data-types/int-uint) or [`Float*`](/sql-reference/data-types/float)

**Examples**

**Basic usage**

```sql title=Query
SELECT L2Norm((1, 2))
```

```response title=Response
┌───L2Norm((1, 2))─┐
│ 2.23606797749979 │
└──────────────────┘
```



## L2Normalize <Badge intent="info" className="version-badge">v21.11+</Badge> [#L2Normalize]


Calculates the unit vector of a given vector (the elements of the tuple are the coordinates) in Euclidean space (using [Euclidean distance](https://en.wikipedia.org/wiki/Euclidean_distance)).
    

**Syntax**

```sql
L2Normalize(tuple)
```

**Aliases**: `normalizeL2`

**Arguments**

- `tuple` — A tuple of numeric values. [`Tuple(T)`](/sql-reference/data-types/tuple)


**Returned value**

Returns the unit vector. [`Tuple(Float64)`](/sql-reference/data-types/tuple)

**Examples**

**Basic usage**

```sql title=Query
SELECT L2Normalize((3, 4))
```

```response title=Response
┌─L2Normalize((3, 4))─┐
│ (0.6,0.8)           │
└─────────────────────┘
```



## L2SquaredDistance <Badge intent="info" className="version-badge">v22.7+</Badge> [#L2SquaredDistance]


Calculates the sum of the squares of the difference between the corresponding elements of two vectors.
    

**Syntax**

```sql
L2SquaredDistance(vector1, vector2)
```

**Aliases**: `distanceL2Squared`

**Arguments**

- `vector1` — First vector. [`Tuple(T)`](/sql-reference/data-types/tuple) or [`Array(T)`](/sql-reference/data-types/array)
- `vector2` — Second vector. [`Tuple(T)`](/sql-reference/data-types/tuple) or [`Array(T)`](/sql-reference/data-types/array)


**Returned value**

Returns the sum of the squares of the difference between the corresponding elements of two vectors. [`Float64`](/sql-reference/data-types/float)

**Examples**

**Basic usage**

```sql title=Query
SELECT L2SquaredDistance([1, 2, 3], [0, 0, 0])
```

```response title=Response
┌─L2SquaredDis⋯ [0, 0, 0])─┐
│                       14 │
└──────────────────────────┘
```



## L2SquaredNorm <Badge intent="info" className="version-badge">v22.7+</Badge> [#L2SquaredNorm]


Calculates the square root of the sum of the squares of the vector elements (the [`L2Norm`](#L2Norm)) squared.
    

**Syntax**

```sql
L2SquaredNorm(vector)
```

**Aliases**: `normL2Squared`

**Arguments**

- `vector` — Vector or tuple of numeric values. [`Array(T)`](/sql-reference/data-types/array) or [`Tuple(T)`](/sql-reference/data-types/tuple)


**Returned value**

Returns the L2-norm squared. [`UInt*`](/sql-reference/data-types/int-uint) or [`Float*`](/sql-reference/data-types/float) or [`Decimal`](/sql-reference/data-types/decimal)

**Examples**

**Basic usage**

```sql title=Query
SELECT L2SquaredNorm((1, 2))
```

```response title=Response
┌─L2SquaredNorm((1, 2))─┐
│                     5 │
└───────────────────────┘
```



## LinfDistance <Badge intent="info" className="version-badge">v21.11+</Badge> [#LinfDistance]


Calculates the distance between two points (the elements of the vectors are the coordinates) in `L_{inf}` space ([maximum norm](https://en.wikipedia.org/wiki/Norm_(mathematics)#Maximum_norm_(special_case_of:_infinity_norm,_uniform_norm,_or_supremum_norm))).
    

**Syntax**

```sql
LinfDistance(vector1, vector2)
```

**Aliases**: `distanceLinf`

**Arguments**

- `vector1` — First vector. [`Tuple(T)`](/sql-reference/data-types/tuple) or [`Array(T)`](/sql-reference/data-types/array)
- `vector2` — Second vector. [`Tuple(T)`](/sql-reference/data-types/tuple) or [`Array(T)`](/sql-reference/data-types/array)


**Returned value**

Returns the Infinity-norm distance. [`Float64`](/sql-reference/data-types/float)

**Examples**

**Basic usage**

```sql title=Query
SELECT LinfDistance((1, 2), (2, 3))
```

```response title=Response
┌─LinfDistance((1, 2), (2, 3))─┐
│                            1 │
└──────────────────────────────┘
```



## LinfNorm <Badge intent="info" className="version-badge">v21.11+</Badge> [#LinfNorm]


Calculates the maximum of absolute elements of a vector.
    

**Syntax**

```sql
LinfNorm(vector)
```

**Aliases**: `normLinf`

**Arguments**

- `vector` — Vector or tuple of numeric values. [`Array(T)`](/sql-reference/data-types/array) or [`Tuple(T)`](/sql-reference/data-types/tuple)


**Returned value**

Returns the Linf-norm or the maximum absolute value. [`Float64`](/sql-reference/data-types/float)

**Examples**

**Basic usage**

```sql title=Query
SELECT LinfNorm((1, -2))
```

```response title=Response
┌─LinfNorm((1, -2))─┐
│                 2 │
└───────────────────┘
```



## LinfNormalize <Badge intent="info" className="version-badge">v21.11+</Badge> [#LinfNormalize]


Calculates the unit vector of a given vector (the elements of the tuple are the coordinates) in `L_{inf}` space (using [maximum norm](https://en.wikipedia.org/wiki/Norm_(mathematics)#Maximum_norm_(special_case_of:_infinity_norm,_uniform_norm,_or_supremum_norm))).
    

**Syntax**

```sql
LinfNormalize(tuple)
```

**Aliases**: `normalizeLinf`

**Arguments**

- `tuple` — A tuple of numeric values. [`Tuple(T)`](/sql-reference/data-types/tuple)


**Returned value**

Returns the unit vector. [`Tuple(Float64)`](/sql-reference/data-types/tuple)

**Examples**

**Basic usage**

```sql title=Query
SELECT LinfNormalize((3, 4))
```

```response title=Response
┌─LinfNormalize((3, 4))─┐
│ (0.75,1)              │
└───────────────────────┘
```



## LpDistance <Badge intent="info" className="version-badge">v21.11+</Badge> [#LpDistance]


Calculates the distance between two points (the elements of the vectors are the coordinates) in `Lp` space ([p-norm distance](https://en.wikipedia.org/wiki/Norm_(mathematics)#p-norm)).
    

**Syntax**

```sql
LpDistance(vector1, vector2, p)
```

**Aliases**: `distanceLp`

**Arguments**

- `vector1` — First vector. [`Tuple(T)`](/sql-reference/data-types/tuple) or [`Array(T)`](/sql-reference/data-types/array)
- `vector2` — Second vector. [`Tuple(T)`](/sql-reference/data-types/tuple) or [`Array(T)`](/sql-reference/data-types/array)
- `p` — The power. Possible values: real number from `[1; inf)`. [`UInt*`](/sql-reference/data-types/int-uint) or [`Float*`](/sql-reference/data-types/float)


**Returned value**

Returns the p-norm distance. [`Float64`](/sql-reference/data-types/float)

**Examples**

**Basic usage**

```sql title=Query
SELECT LpDistance((1, 2), (2, 3), 3)
```

```response title=Response
┌─LpDistance((1, 2), (2, 3), 3)─┐
│            1.2599210498948732 │
└───────────────────────────────┘
```



## LpNorm <Badge intent="info" className="version-badge">v21.11+</Badge> [#LpNorm]


Calculates the p-norm of a vector, which is the p-th root of the sum of the p-th powers of the absolute elements of its elements.

Special cases:
- When p=1, it's equivalent to L1Norm (Manhattan distance).
- When p=2, it's equivalent to L2Norm (Euclidean distance).
- When p=∞, it's equivalent to LinfNorm (maximum norm).
    

**Syntax**

```sql
LpNorm(vector, p)
```

**Aliases**: `normLp`

**Arguments**

- `vector` — Vector or tuple of numeric values. [`Tuple(T)`](/sql-reference/data-types/tuple) or [`Array(T)`](/sql-reference/data-types/array)
- `p` — The power. Possible values are real numbers in the range `[1; inf)`. [`UInt*`](/sql-reference/data-types/int-uint) or [`Float*`](/sql-reference/data-types/float)


**Returned value**

Returns the [Lp-norm](https://en.wikipedia.org/wiki/Norm_(mathematics)#p-norm). [`Float64`](/sql-reference/data-types/float)

**Examples**

**Basic usage**

```sql title=Query
SELECT LpNorm((1, -2), 2)
```

```response title=Response
┌─LpNorm((1, -2), 2)─┐
│   2.23606797749979 │
└────────────────────┘
```



## LpNormalize <Badge intent="info" className="version-badge">v21.11+</Badge> [#LpNormalize]


Calculates the unit vector of a given vector (the elements of the tuple are the coordinates) in `Lp` space (using [p-norm](https://en.wikipedia.org/wiki/Norm_(mathematics)#p-norm)).
        

**Syntax**

```sql
LpNormalize(tuple, p)
```

**Aliases**: `normalizeLp`

**Arguments**

- `tuple` — A tuple of numeric values. [`Tuple(T)`](/sql-reference/data-types/tuple)
- `p` — The power. Possible values are any number in the range range from `[1; inf)`. [`UInt*`](/sql-reference/data-types/int-uint) or [`Float*`](/sql-reference/data-types/float)


**Returned value**

Returns the unit vector. [`Tuple(Float64)`](/sql-reference/data-types/tuple)

**Examples**

**Usage example**

```sql title=Query
SELECT LpNormalize((3, 4), 5)
```

```response title=Response
┌─LpNormalize((3, 4), 5)──────────────────┐
│ (0.7187302630182624,0.9583070173576831) │
└─────────────────────────────────────────┘
```



## cosineDistance <Badge intent="info" className="version-badge">v1.1+</Badge> [#cosineDistance]


Calculates the cosine distance between two vectors (the elements of the tuples are the coordinates). The smaller the returned value is, the more similar are the vectors.
    

**Syntax**

```sql
cosineDistance(vector1, vector2)
```

**Arguments**

- `vector1` — First tuple. [`Tuple(T)`](/sql-reference/data-types/tuple) or [`Array(T)`](/sql-reference/data-types/array)
- `vector2` — Second tuple. [`Tuple(T)`](/sql-reference/data-types/tuple) or [`Array(T)`](/sql-reference/data-types/array)


**Returned value**

Returns the cosine of the angle between two vectors subtracted from one. [`Float64`](/sql-reference/data-types/float)

**Examples**

**Basic usage**

```sql title=Query
SELECT cosineDistance((1, 2), (2, 3));
```

```response title=Response
┌─cosineDistance((1, 2), (2, 3))─┐
│           0.007722123286332261 │
└────────────────────────────────┘
```



{/* <!--AUTOGENERATED_END--> */}
